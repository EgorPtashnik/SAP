<core:FragmentDefinition
    xmlns:core="sap.ui.core"
    xmlns="sap.m">
    <Table id="idListTable"
           fixedLayout="false"
           items="{/lists}"
           noDataText="No Todo Lists"
           busy="{config>/busy}"
           showOverlay="{config>/tableSettings/showOverlay}">
        <headerToolbar>
            <OverflowToolbar>
                <ToolbarSpacer/>
                <Button icon="sap-icon://action-settings" tooltip="Table settings" press="onOpenTableSettingsDialog"/>
            </OverflowToolbar>
        </headerToolbar>
        <columns>
            <Column visible="{config>/tableSettings/columns/name}">
                <Text text="Name"/>
            </Column>
            <Column visible="{config>/tableSettings/columns/category}">
                <Text text="Category"/>
            </Column>
            <Column visible="{config>/tableSettings/columns/created_at}">
                <Text text="Created At"/>
            </Column>
            <Column visible="{config>/tableSettings/columns/updated_at}">
                <Text text="Updated At"/>
            </Column>
            <Column visible="{config>/tableSettings/columns/status}">
                <Text text="Status"/>
            </Column>
        </columns>
        <items>
            <ColumnListItem>
                <cells>
                    <ObjectIdentifier title="{name}" text="Items: {ItemsCount}" visible="{=!${/editMode}}"/>
                    <Text text="{path: 'category_id', formatter: '.Formatter.getCategoryText'}" visible="{=!${/editMode}}"/>
                    <Text text="{path: 'created_at', formatter: '.Formatter.getDate'}"/>
                    <Text text="{path: 'updated_at', formatter: '.Formatter.getDate'}"/>      
                    <ObjectStatus inverted="true"
                                  text="{path: 'status', formatter: '.Formatter.getListStatusText'}"
                                  state="{path: 'status', formatter: '.Formatter.getListStatusType'}"
                                  icon="{path: 'status', formatter: '.Formatter.getListStatusIcon'}"/>                      
                </cells>
            </ColumnListItem>
        </items>
    </Table>
</core:FragmentDefinition>